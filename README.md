# vagrant-for-laravel-on-windows

A Vagrant environment for Laravel development. Crucially, it supports the [npm run dev] workflow (though NOTE this might error the first time (*) - just run again and it's fine).

## how to use This

1. Set all of the custom_* variables in the Vagrant file
2. run [vagrant up]
3. That's it!

## uses (AKA "installs")

[] MySQL

[] Nginx

[] Adminer

[] "raw" Laravel Homestead Vagrant image (without the multi-project installer thing)

[] Laravel framework fresh install in 'Laravel' folder (unless that already exists)

[] npm (for Laravel Mix)

[] Composer (and note this is installed as a local .phar in the project root folder)

NOTE Laravel Homestead Vagrant image is Ubuntu and see https://laravel.com/docs/5.8/homestead for the gory details

## TODO

TODO: TLS web vhost support

TODO: optionally - or always? - bundle in Nova? {but this is commercial software}

TODO: support the npm stuff for Nova as well

TODO: option for Postgres

TODO: mention to recommend changing the app's namespace in Vagrant's post_up message





(*)

vagrant@vagrant:/var/www/vhosts/cool-new-project/laravel$ npm run dev

> @ dev /var/www/vhosts/cool-new-project/laravel
> npm run development


> @ development /var/www/vhosts/cool-new-project/laravel
> cross-env NODE_ENV=development node_modules/webpack/bin/webpack.js --progress --hide-modules --config=node_modules/laravel-mix/setup/webpack.config.js

        Additional dependencies must be installed. This will only take a moment.

        Running: yarn add vue-template-compiler --dev --production=false

warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
warning " > sass-loader@7.1.0" has unmet peer dependency "webpack@^3.0.0 || ^4.0.0".
error An unexpected error occurred: "EPROTO: protocol error, symlink '../../../parser/bin/babel-parser.js' -> '/var/www/vhosts/cool-new-project/laravel/node_modules/@babel/core/node_modules/.bin/parser'".
/var/www/vhosts/cool-new-project/laravel/node_modules/webpack-cli/bin/cli.js:93
                                throw err;
                                ^

Error: Command failed: yarn add vue-template-compiler --dev --production=false
warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
warning " > sass-loader@7.1.0" has unmet peer dependency "webpack@^3.0.0 || ^4.0.0".
error An unexpected error occurred: "EPROTO: protocol error, symlink '../../../parser/bin/babel-parser.js' -> '/var/www/vhosts/cool-new-project/laravel/node_modules/@babel/core/node_modules/.bin/parser'".
